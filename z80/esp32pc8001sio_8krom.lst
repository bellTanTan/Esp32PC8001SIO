# File esp32pc8001sio_8krom.asm
0000			                ORG     06000H 
6000			_USER_ROM_START: 
6000			_PROG_TOP: 
6000 ..			                DB      "AB" 
6002 c3 16 60		                JP      _ENTRY 
6005			_MON_ENTRY: 
6005 cd 16 60		                CALL    _ENTRY 
6008 c3 81 00		                JP      ROM_BASPROMPT 
600b 00			                NOP 
600c 00			                NOP 
600d 01			                DB      VER_MAJOR 
600e 00			                DB      VER_MINOR 
600f 00			                DB      VER_REVISION 
6010			_MON_U_ENTRY: 
6010 cd 16 60		                CALL    _ENTRY 
6013 c3 35 5c		                JP      ROM_MON_UNEXT 
6016			_ENTRY: 
6016 c5			                PUSH    BC 
6017 d5			                PUSH    DE 
6018 e5			                PUSH    HL 
6019 21 28 60		                LD      HL,NEWJPTBL 
601c 11 fc f0		                LD      DE,CMD_ENTRY 
601f 01 03 00		                LD      BC,3 
6022 ed b0		                LDIR 
6024 e1			                POP     HL 
6025 d1			                POP     DE 
6026 c1			                POP     BC 
6027 c9			                RET 
6028			NEWJPTBL: 
6028 c3 2b 60		                JP      NEW_CMD 
602b			NEW_CMD: 
602b			                INCLUDE "esp32pc8001sio.asm" 
602b			;******************************************************************************** 
602b			; 
602b			; Created by tan (trinity09181718@gmail.com) 
602b			; Copyright (c) 2022 tan 
602b			; All rights reserved. 
602b			; 
602b			; Please contact trinity09181718@gmail.com if you need a commercial license. 
602b			; This software is available under GPL v3. 
602b			; 
602b			;******************************************************************************** 
602b			; 
602b			; Implementation contents as N-BASIC command extension 
602b			; 
602b			; CMD BME 
602b			; CMD FTPLIST 
602b			; CMD FTPGET,nnn 
602b			; CMD FTPGET,nnn,&HXXXX 
602b			; CMD SNTP 
602b			; CMD VER 
602b			; 
602b			; CONSTANT CONTROL CODE 
602b			; 
602b			NUL:            EQU     00H 
602b			SOH:            EQU     01H 
602b			STX:            EQU     02H 
602b			EOT:            EQU     04H 
602b			ACK:            EQU     06H 
602b			BS:             EQU     08H 
602b			LF:             EQU     0AH 
602b			CR:             EQU     0DH 
602b			NAK:            EQU     15H 
602b			CAN:            EQU     18H 
602b			ESC:            EQU     1BH 
602b			; 
602b			; CONSTANT I/O PORT 
602b			; 
602b			KEYBRD9:        EQU     09H 
602b			USARTDW:        EQU     20H 
602b			USARTCW:        EQU     21H             ; MODE SETUP 
602b			                                        ; 76543210 
602b			                                        ; ||||||++--- BAUD RATE FACTOR 
602b			                                        ; ||||||      00 : SYNC MODE 
602b			                                        ; ||||||      01 : 1X 
602b			                                        ; ||||||      10 : 16X 
602b			                                        ; ||||||      11 : 64X 
602b			                                        ; ||||++----- CHARACTER LENGTH 
602b			                                        ; ||||        00 : 5BITS 
602b			                                        ; ||||        01 : 6BITS 
602b			                                        ; ||||        10 : 7BITS 
602b			                                        ; ||||        11 : 8BITS 
602b			                                        ; |||+------- PARITY ENABLE 
602b			                                        ; |||         1 : ENABLE 
602b			                                        ; |||         0 : DISABLE 
602b			                                        ; ||+-------- EVEN PARITY GENARATION/CHECK 
602b			                                        ; ||          1 : EVEN 
602b			                                        ; ||          0 : ODD 
602b			                                        ; ++--------- NUMBER OF STOP BITS 
602b			                                        ;             00 : INVALID 
602b			                                        ;             01 : 1 BIT 
602b			                                        ;             10 : 1.5 BITS 
602b			                                        ;             11 : 2 BITS 
602b			                                        ; 
602b			                                        ; COMMAND SETUP 
602b			                                        ; 76543210 
602b			                                        ; |||||||+--- TRANSMIT ENABLE 
602b			                                        ; |||||||     1 : ENABLE 
602b			                                        ; |||||||     0 : DISABLE 
602b			                                        ; ||||||+---- DATA TERMINAL READY 
602b			                                        ; ||||||      "high" will force ~DTR output zero 
602b			                                        ; |||||+----- RECEIVE ENABLE 
602b			                                        ; |||||       1 : ENABLE 
602b			                                        ; |||||       0 : DISABLE 
602b			                                        ; ||||+------ SEND BREAK CHARACTER 
602b			                                        ; ||||        1 : forces TxD "low" 
602b			                                        ; ||||        0 : normal operation 
602b			                                        ; |||+------- ERROR RESET 
602b			                                        ; |||         1 : reset all error flags PE,OE,FE 
602b			                                        ; ||+-------- REQUEST TO SEND 
602b			                                        ; ||          "high" will force ~RTS output zero 
602b			                                        ; |+--------- INTERNAL RESET 
602b			                                        ; |           "high" returns USART to Mode Instruction Format 
602b			                                        ; +---------- ENTER HUNT MODE 
602b			                                        ;             1 = enable search for Sync Characters 
602b			                                        ; 
602b			                                        ; STATUS READ 
602b			                                        ; 76543210 
602b			                                        ; |||||||+--- TxRDY 
602b			                                        ; ||||||+---- RxRDY 
602b			                                        ; |||||+----- TxEMPTY 
602b			                                        ; ||||+------ PE(PARITY ERROR) 
602b			                                        ; |||+------- OE(OVERRUN ERROR) 
602b			                                        ; ||+-------- FE(FRAMING ERROR) 
602b			                                        ; |+--------- SYNDET 
602b			                                        ; +---------- DSR 
602b			CONTROL1:       EQU     30H 
602b			; 
602b			; CONSTANT ROM BASIC ROUTINE 
602b			; 
602b			ROM_BASPROMPT:  EQU     0081H 
602b			ROM_DSPCHR:     EQU     0257H 
602b			ROM_MOVECURSOR: EQU     03A9H 
602b			ROM_DSPCURSOR:  EQU     0BE2H 
602b			ROM_BEEP:       EQU     0D43H 
602b			ROM_KEYWAIT:    EQU     0F75H 
602b			ROM_KEYSCAN:    EQU     0FACH 
602b			ROM_TIMEREAD:   EQU     1602H 
602b			ROM_TIMEWRITE:  EQU     1663H 
602b			ROM_BIN2DECASC: EQU     309FH 
602b			ROM_SYNERR:     EQU     3BDFH 
602b			ROM_MSGOUT:     EQU     52EDH 
602b			ROM_MON_UNEXT:  EQU     5C35H 
602b			ROM_HEXASC2BIN: EQU     5E4BH 
602b			ROM_DSPHEX4:    EQU     5EC0H 
602b			ROM_CMPHLDE:    EQU     5ED3H 
602b			ROM_DSP1CHR:    EQU     5FB0H 
602b			ROM_DSPCRLF:    EQU     5FCAH 
602b			; 
602b			; CONSTANT ROM BASIC WORK AREA 
602b			; 
602b			PC8001RAM_TOP:  EQU     8000H 
602b			ROMBAS_WORKTOP: EQU     0EA00H 
602b			FUNKEY_DISPSTS: EQU     0EA60H 
602b			CRT_TEXT_ROWS:  EQU     0EA62H 
602b			CURSOR_YPOS:    EQU     0EA63H 
602b			CURSOR_XPOS:    EQU     0EA64H 
602b			CRT_TEXT_COLS:  EQU     0EA65H 
602b			CTL1_OUTDATA:   EQU     0EA66H 
602b			BCD_TIME_SEC:   EQU     0EA76H 
602b			BCD_TIME_YEAR:  EQU     0EA7BH      
602b			OUTPUT_DEVICE:  EQU     0EB49H 
602b			BASAREA_TOP:    EQU     0EB54H 
602b			VARAREA_TOP:    EQU     0EFA0H 
602b			ARRAYAREA_TOP:  EQU     0EFA2H 
602b			FREEAREA_TOP:   EQU     0EFA4H 
602b			BIN_ACC:        EQU     0F0A8H 
602b			CMD_ENTRY:      EQU     0F0FCH 
602b			; 
602b			; N-BASIC ROM FREE AREA1 : F216~F2FF 
602b			; N-BASIC ROM FREE AREA2 : FF3D~FFFF 
602b			; CONSTANT ESP32PC8001SIO WORK AREA 
602b			; 
602b			SAVESP:         EQU     0F216H 
602b			LISTCNT:        EQU     0F218H 
602b			SELLISTNO:      EQU     0F21AH 
602b			LOADADRS:       EQU     0F21CH 
602b			EXECADRS:       EQU     0F22EH 
602b			MODEWORD:       EQU     0F220H 
602b			CTLWORD:        EQU     0F221H 
602b			CMDNO:          EQU     0F222H 
602b			CHKBLKNO:       EQU     0F223H 
602b			LFRECVCOUNT:    EQU     0F224H 
602b			DISPBUF_TOP:    EQU     0F230H 
602b			SNDBUF_TOP:     EQU     0F270H 
602b			RCVBUF_TOP:     EQU     0F270H 
602b			RCVBUF_HEADER:  EQU     RCVBUF_TOP 
602b			RCVBUF_BLKNO:   EQU     RCVBUF_TOP +1 
602b			RCVBUF_CBLKNO:  EQU     RCVBUF_TOP +2 
602b			RCVBUF_DATA:    EQU     RCVBUF_TOP +3 
602b			RCVBUF_CHKSUM:  EQU     RCVBUF_DATA +128 
602b			RCVBUF_BOTTOM:  EQU     RCVBUF_CHKSUM 
602b			FLGDATA:        EQU     0F2FFH          ; 76543210 
602b			                                        ; |||||||+--- <CR><LF> first send 
602b			                                        ; ||||||+---- load basic cmt type        
602b			                                        ; |||||+----- sio recv time out (5sec) 
602b			                                        ; ||||+------ sio recv cancel (keyboard STOP key) 
602b			                                        ; |||+------- enable keyboard STOP key check 
602b			                                        ; ||+-------- reserve 
602b			                                        ; |+--------- reserve 
602b			                                        ; +---------- reserve 
602b			FLG_FIRSTSEND:  EQU     00000001B 
602b			FLG_LOADBAS:    EQU     00000010B 
602b			FLG_RCVTIMEOUT: EQU     00000100B 
602b			FLG_RCVCANCEL:  EQU     00001000B 
602b			FLG_ENABLESTOP: EQU     00010000B 
602b			; 
602b			; CONSTANT ESP32PC8001SIO VERSION DATA 
602b			; 
602b			VER_MAJOR:      EQU     1 
602b			VER_MINOR:      EQU     0 
602b			VER_REVISION:   EQU     0 
602b			; 
602b			                ;ORG    0H 
602b			CMD_START: 
602b f3			                DI 
602c ed 73 16 f2	                LD      (SAVESP),SP 
6030 eb			                EX      DE,HL 
6031 21 ff ff		                LD      HL,0FFFFH 
6034 f9			                LD      SP,HL 
6035 eb			                EX      DE,HL 
6036 fb			                EI 
6037 cd fa 64		                CALL    PARSER_CMDPARAM 
603a da 50 60		                JP      C,CMD_SYNERR_EXIT 
603d fd e9		                JP      (IY) 
603f			CMD_EXIT: 
603f af			                XOR     A 
6040			CMD_EXIT000: 
6040 f3			                DI 
6041 eb			                EX      DE,HL 
6042 2a 16 f2		                LD      HL,(SAVESP) 
6045 f9			                LD      SP,HL 
6046 eb			                EX      DE,HL 
6047 fb			                EI 
6048 fe 00		                CP      0 
604a 20 01		                JR      NZ,CMD_EXIT010 
604c c9			                RET 
604d			CMD_EXIT010: 
604d d1			                POP     DE 
604e dd e9		                JP      (IX) 
6050			CMD_SYNERR_EXIT: 
6050 3e 01		                LD      A,1 
6052 dd 21 df 3b	                LD      IX,ROM_SYNERR 
6056 18 e8		                JR      CMD_EXIT000 
6058			CMD_MYERR_EXIT: 
6058 3e 02		                LD      A,2 
605a dd 21 81 00	                LD      IX,ROM_BASPROMPT 
605e 18 e0		                JR      CMD_EXIT000 
6060			; 
6060			; 
6060			; 
6060			CMD_BME: 
6060 e5			                PUSH    HL 
6061 cd 54 66		                CALL    INIT_SIO 
6064 21 59 68		                LD      HL,TBL_CMD_BME 
6067 11 70 f2		                LD      DE,SNDBUF_TOP 
606a 01 03 00		                LD      BC,3 
606d ed b0		                LDIR 
606f 21 f2 68		                LD      HL,TBL_CRLF 
6072 01 02 00		                LD      BC,2 
6075 ed b0		                LDIR 
6077 06 05		                LD      B,5 
6079 cd 83 67		                CALL    SENDBUF_OUT 
607c 06 01		                LD      B,1 
607e cd 8e 67		                CALL    RECVBUF_IN 
6081 3a ff f2		                LD      A,(FLGDATA) 
6084 e6 04		                AND     FLG_RCVTIMEOUT 
6086 c2 c7 64		                JP      NZ,CMD_ERR1 
6089 11 59 68		                LD      DE,TBL_CMD_BME 
608c 06 03		                LD      B,3 
608e cd c5 67		                CALL    RECVBUF_CHK 
6091 da cc 64		                JP      C,CMD_ERR2 
6094 06 00		                LD      B,0 
6096 cd a6 60		                CALL    CMD_BME_MSG 
6099 06 01		                LD      B,1 
609b cd a6 60		                CALL    CMD_BME_MSG 
609e 06 02		                LD      B,2 
60a0 cd a6 60		                CALL    CMD_BME_MSG 
60a3 c3 f2 64		                JP      CMD_END 
60a6			CMD_BME_MSG: 
60a6 e5			                PUSH    HL 
60a7 78			                LD      A,B 
60a8 fe 01		                CP      1 
60aa 28 09		                JR      Z,CMD_BME_000 
60ac fe 02		                CP      2 
60ae 28 0a		                JR      Z,CMD_BME_010 
60b0 21 aa 68		                LD      HL,TBL_TEMP_MSG0 
60b3 18 08		                JR      CMD_BME_020 
60b5			CMD_BME_000: 
60b5 21 b5 68		                LD      HL,TBL_HUMI_MSG0 
60b8 18 03		                JR      CMD_BME_020 
60ba			CMD_BME_010: 
60ba 21 bf 68		                LD      HL,TBL_PRESS_MSG0 
60bd			CMD_BME_020: 
60bd 11 30 f2		                LD      DE,DISPBUF_TOP 
60c0			CMD_BME_L010: 
60c0 7e			                LD      A,(HL) 
60c1 12			                LD      (DE),A 
60c2 23			                INC     HL 
60c3 13			                INC     DE 
60c4 fe 00		                CP      0 
60c6 20 f8		                JR      NZ,CMD_BME_L010 
60c8 e1			                POP     HL 
60c9 1b			                DEC     DE 
60ca			CMD_BME_L020: 
60ca 7e			                LD      A,(HL) 
60cb fe 2c		                CP      ',' 
60cd 28 09		                JR      Z,CMD_BME_050 
60cf fe 0d		                CP      CR 
60d1 28 05		                JR      Z,CMD_BME_050 
60d3 12			                LD      (DE),A 
60d4 23			                INC     HL 
60d5 13			                INC     DE 
60d6 18 f2		                JR      CMD_BME_L020 
60d8			CMD_BME_050: 
60d8 23			                INC     HL 
60d9 e5			                PUSH    HL 
60da 78			                LD      A,B 
60db fe 01		                CP      1 
60dd 28 09		                JR      Z,CMD_BME_060 
60df fe 02		                CP      2 
60e1 28 0a		                JR      Z,CMD_BME_070 
60e3 21 b2 68		                LD      HL,TBL_TEMP_MSG1 
60e6 18 08		                JR      CMD_BME_L030 
60e8			CMD_BME_060: 
60e8 21 bd 68		                LD      HL,TBL_HUMI_MSG1 
60eb 18 03		                JR      CMD_BME_L030 
60ed			CMD_BME_070: 
60ed 21 c7 68		                LD      HL,TBL_PRESS_MSG1 
60f0			CMD_BME_L030: 
60f0 7e			                LD      A,(HL) 
60f1 12			                LD      (DE),A 
60f2 23			                INC     HL 
60f3 13			                INC     DE 
60f4 fe 00		                CP      0 
60f6 20 f8		                JR      NZ,CMD_BME_L030 
60f8 e1			                POP     HL 
60f9 1b			                DEC     DE 
60fa c5			                PUSH    BC 
60fb d5			                PUSH    DE 
60fc e5			                PUSH    HL 
60fd cd db 67		                CALL    MSG_DISP 
6100 e1			                POP     HL 
6101 d1			                POP     DE 
6102 c1			                POP     BC 
6103 c9			                RET 
6104			; 
6104			; 
6104			; 
6104			CMD_FTPLIST: 
6104 e5			                PUSH    HL 
6105 cd 54 66		                CALL    INIT_SIO 
6108 21 8a 68		                LD      HL,TBL_CMD_FTPLIST2 
610b 11 70 f2		                LD      DE,SNDBUF_TOP 
610e 01 07 00		                LD      BC,7 
6111 ed b0		                LDIR 
6113 21 f2 68		                LD      HL,TBL_CRLF 
6116 01 02 00		                LD      BC,2 
6119 ed b0		                LDIR 
611b 06 09		                LD      B,9 
611d cd 83 67		                CALL    SENDBUF_OUT 
6120 06 01		                LD      B,1 
6122 cd 8e 67		                CALL    RECVBUF_IN 
6125 3a ff f2		                LD      A,(FLGDATA) 
6128 e6 04		                AND     FLG_RCVTIMEOUT 
612a c2 c7 64		                JP      NZ,CMD_ERR1 
612d 11 8a 68		                LD      DE,TBL_CMD_FTPLIST2 
6130 06 07		                LD      B,7 
6132 cd c5 67		                CALL    RECVBUF_CHK 
6135 da cc 64		                JP      C,CMD_ERR2 
6138 e5			                PUSH    HL 
6139 21 9d 68		                LD      HL,TBL_COUNT_MSG0 
613c 11 30 f2		                LD      DE,DISPBUF_TOP 
613f			CMD_FTPLIST_L000: 
613f 7e			                LD      A,(HL) 
6140 12			                LD      (DE),A 
6141 23			                INC     HL 
6142 13			                INC     DE 
6143 fe 00		                CP      0 
6145 20 f8		                JR      NZ,CMD_FTPLIST_L000 
6147 1b			                DEC     DE 
6148 e1			                POP     HL 
6149 e5			                PUSH    HL 
614a 01 03 00		                LD      BC,3 
614d ed b0		                LDIR 
614f cd db 67		                CALL    MSG_DISP 
6152 e1			                POP     HL 
6153			; 
6153 7e			                LD      A,(HL) 
6154 e6 0f		                AND     0FH 
6156 5f			                LD      E,A 
6157 3e 64		                LD      A,100 
6159 e5			                PUSH    HL 
615a cd ee 67		                CALL    MUL_88_2_16 
615d 22 18 f2		                LD      (LISTCNT),HL 
6160 e1			                POP     HL 
6161 23			                INC     HL 
6162 7e			                LD      A,(HL) 
6163 e6 0f		                AND     0FH 
6165 5f			                LD      E,A 
6166 3e 0a		                LD      A,10 
6168 e5			                PUSH    HL 
6169 cd ee 67		                CALL    MUL_88_2_16 
616c eb			                EX      DE,HL 
616d 2a 18 f2		                LD      HL,(LISTCNT) 
6170 19			                ADD     HL,DE 
6171 22 18 f2		                LD      (LISTCNT),HL 
6174 e1			                POP     HL 
6175 23			                INC     HL 
6176 7e			                LD      A,(HL) 
6177 e6 0f		                AND     0FH 
6179 5f			                LD      E,A 
617a 3e 01		                LD      A,1 
617c e5			                PUSH    HL 
617d cd ee 67		                CALL    MUL_88_2_16 
6180 eb			                EX      DE,HL 
6181 2a 18 f2		                LD      HL,(LISTCNT) 
6184 19			                ADD     HL,DE 
6185 22 18 f2		                LD      (LISTCNT),HL 
6188 e1			                POP     HL 
6189 2a 18 f2		                LD      HL,(LISTCNT) 
618c 11 00 00		                LD      DE,0 
618f cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
6192			                                        ; HL<DE : 0  1 
6192			                                        ; HL=DE : 1  0 
6192			                                        ; HL>DE : 0  0 
6192 ca f2 64		                JP      Z,CMD_END 
6195 ed 53 1a f2	                LD      (SELLISTNO),DE 
6199			CMD_FTPLIST_L010: 
6199 21 30 f2		                LD      HL,DISPBUF_TOP 
619c ed 5b 1a f2	                LD      DE,(SELLISTNO) 
61a0 ed 53 a8 f0	                LD      (BIN_ACC),DE 
61a4 01 00 00		                LD      BC,0 
61a7 cd 9f 30		                CALL    ROM_BIN2DECASC 
61aa 21 98 68		                LD      HL,TBL_CMD_LIST 
61ad 11 70 f2		                LD      DE,SNDBUF_TOP 
61b0 01 05 00		                LD      BC,5 
61b3 ed b0		                LDIR 
61b5 21 32 f2		                LD      HL,DISPBUF_TOP + 2 
61b8 01 03 00		                LD      BC,3 
61bb ed b0		                LDIR 
61bd 21 f2 68		                LD      HL,TBL_CRLF 
61c0 01 02 00		                LD      BC,2 
61c3 ed b0		                LDIR 
61c5 06 0a		                LD      B,10 
61c7 cd 83 67		                CALL    SENDBUF_OUT 
61ca 06 01		                LD      B,1 
61cc cd 8e 67		                CALL    RECVBUF_IN 
61cf 3a ff f2		                LD      A,(FLGDATA) 
61d2 e6 04		                AND     FLG_RCVTIMEOUT 
61d4 c2 c7 64		                JP      NZ,CMD_ERR1 
61d7 11 98 68		                LD      DE,TBL_CMD_LIST 
61da 06 04		                LD      B,4 
61dc cd c5 67		                CALL    RECVBUF_CHK 
61df da cc 64		                JP      C,CMD_ERR2 
61e2 11 30 f2		                LD      DE,DISPBUF_TOP 
61e5 01 03 00		                LD      BC,3 
61e8 ed b0		                LDIR 
61ea 3e 3a		                LD      A,':' 
61ec 12			                LD      (DE),A 
61ed 13			                INC     DE 
61ee 3a 65 ea		                LD      A,(CRT_TEXT_COLS) 
61f1 fe 48		                CP      72 
61f3 28 1a		                JR      Z,CMD_FTPLIST_040 
61f5 fe 50		                CP      80 
61f7 28 16		                JR      Z,CMD_FTPLIST_040 
61f9 06 04		                LD      B,4 
61fb			CMD_FTPLIST_010: 
61fb 7e			                LD      A,(HL) 
61fc 23			                INC     HL 
61fd fe 2c		                CP      ',' 
61ff 28 02		                JR      Z,CMD_FTPLIST_020 
6201 18 f8		                JR      CMD_FTPLIST_010 
6203			CMD_FTPLIST_020: 
6203 10 f6		                DJNZ    CMD_FTPLIST_010 
6205			CMD_FTPLIST_030: 
6205 7e			                LD      A,(HL) 
6206 12			                LD      (DE),A 
6207 23			                INC     HL 
6208 13			                INC     DE 
6209 fe 0d		                CP      CR 
620b 28 15		                JR      Z,CMD_FTPLIST_070 
620d 18 f6		                JR      CMD_FTPLIST_030 
620f			CMD_FTPLIST_040: 
620f 23			                INC     HL 
6210			CMD_FTPLIST_L020: 
6210 7e			                LD      A,(HL) 
6211 fe 2c		                CP      ',' 
6213 28 06		                JR      Z,CMD_FTPLIST_050 
6215 fe 0d		                CP      CR 
6217 28 09		                JR      Z,CMD_FTPLIST_070 
6219 18 02		                JR      CMD_FTPLIST_060 
621b			CMD_FTPLIST_050: 
621b 3e 20		                LD      A,' ' 
621d			CMD_FTPLIST_060: 
621d 12			                LD      (DE),A 
621e 23			                INC     HL 
621f 13			                INC     DE 
6220 18 ee		                JR      CMD_FTPLIST_L020 
6222			CMD_FTPLIST_070: 
6222 cd db 67		                CALL    MSG_DISP 
6225 db 09		                IN      A,(KEYBRD9) 
6227 57			                LD      D,A 
6228 e6 01		                AND     00000001B 
622a ca f2 64		                JP      Z,CMD_END 
622d 7a			                LD      A,D 
622e e6 80		                AND     10000000B 
6230 20 0d		                JR      NZ,CMD_FTPLIST_090 
6232			CMD_FTPLIST_080: 
6232 db 09		                IN      A,(KEYBRD9) 
6234 57			                LD      D,A 
6235 e6 01		                AND     00000001B 
6237 ca f2 64		                JP      Z,CMD_END 
623a 7a			                LD      A,D 
623b e6 80		                AND     10000000B 
623d 28 f3		                JR      Z,CMD_FTPLIST_080 
623f			CMD_FTPLIST_090: 
623f 2a 18 f2		                LD      HL,(LISTCNT) 
6242 ed 5b 1a f2	                LD      DE,(SELLISTNO) 
6246 13			                INC     DE 
6247 ed 53 1a f2	                LD      (SELLISTNO),DE 
624b cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
624e			                                        ; HL<DE : 0  1 
624e			                                        ; HL=DE : 1  0 
624e			                                        ; HL>DE : 0  0 
624e c2 99 61		                JP      NZ,CMD_FTPLIST_L010 
6251 c3 f2 64		                JP      CMD_END 
6254			; 
6254			; 
6254			; 
6254			CMD_FTPGET: 
6254 e5			                PUSH    HL 
6255 cd 54 66		                CALL    INIT_SIO 
6258 21 30 f2		                LD      HL,DISPBUF_TOP 
625b ed 5b 1a f2	                LD      DE,(SELLISTNO) 
625f ed 53 a8 f0	                LD      (BIN_ACC),DE 
6263 01 00 00		                LD      BC,0 
6266 cd 9f 30		                CALL    ROM_BIN2DECASC 
6269 21 91 68		                LD      HL,TBL_CMD_FTPGET2 
626c 11 70 f2		                LD      DE,SNDBUF_TOP 
626f 01 07 00		                LD      BC,7 
6272 ed b0		                LDIR 
6274 21 32 f2		                LD      HL,DISPBUF_TOP + 2 
6277 01 03 00		                LD      BC,3 
627a ed b0		                LDIR 
627c 21 f2 68		                LD      HL,TBL_CRLF 
627f 01 02 00		                LD      BC,2 
6282 ed b0		                LDIR 
6284 06 0c		                LD      B,12 
6286 cd 83 67		                CALL    SENDBUF_OUT 
6289 06 01		                LD      B,1 
628b cd 8e 67		                CALL    RECVBUF_IN 
628e 3a ff f2		                LD      A,(FLGDATA) 
6291 e6 04		                AND     FLG_RCVTIMEOUT 
6293 c2 c7 64		                JP      NZ,CMD_ERR1 
6296 11 91 68		                LD      DE,TBL_CMD_FTPGET2 
6299 06 06		                LD      B,6 
629b cd c5 67		                CALL    RECVBUF_CHK 
629e da cc 64		                JP      C,CMD_ERR2 
62a1 23			                INC     HL 
62a2 23			                INC     HL 
62a3 23			                INC     HL 
62a4 23			                INC     HL 
62a5 7e			                LD      A,(HL) 
62a6 e6 0f		                AND     0FH 
62a8 fe 00		                CP      0 
62aa ca d1 64		                JP      Z,CMD_ERR3 
62ad fe 01		                CP      1 
62af ca bd 62		                JP      Z,CMD_FTPGET_100 
62b2 fe 02		                CP      2 
62b4 28 1c		                JR      Z,CMD_FTPGET_110 
62b6 fe 03		                CP      3 
62b8 28 2a		                JR      Z,CMD_FTPGET_120 
62ba c3 cc 64		                JP      CMD_ERR2 
62bd			CMD_FTPGET_100: 
62bd ed 5b 2e f2	                LD      DE,(EXECADRS) 
62c1 e5			                PUSH    HL 
62c2 21 00 00		                LD      HL,0 
62c5 cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
62c8			                                        ; HL<DE : 0  1 
62c8			                                        ; HL=DE : 1  0 
62c8			                                        ; HL>DE : 0  0 
62c8 e1			                POP     HL 
62c9 ca d6 64		                JP      Z,CMD_ERR4 
62cc ed 53 1c f2	                LD      (LOADADRS),DE 
62d0 18 28		                JR      CMD_FTPGET_200 
62d2			CMD_FTPGET_110: 
62d2 3a ff f2		                LD      A,(FLGDATA) 
62d5 f6 02		                OR      FLG_LOADBAS 
62d7 32 ff f2		                LD      (FLGDATA),A 
62da ed 5b 54 eb	                LD      DE,(BASAREA_TOP) 
62de ed 53 1c f2	                LD      (LOADADRS),DE 
62e2 18 16		                JR      CMD_FTPGET_200 
62e4			CMD_FTPGET_120: 
62e4 23			                INC     HL 
62e5 23			                INC     HL 
62e6 06 04		                LD      B,4 
62e8 11 00 00		                LD      DE,0 
62eb			CMD_FTPGET_130: 
62eb 7e			                LD      A,(HL) 
62ec e5			                PUSH    HL 
62ed eb			                EX      DE,HL 
62ee cd 4b 5e		                CALL    ROM_HEXASC2BIN 
62f1 eb			                EX      DE,HL 
62f2 e1			                POP     HL 
62f3 23			                INC     HL 
62f4 10 f5		                DJNZ    CMD_FTPGET_130 
62f6 ed 53 1c f2	                LD      (LOADADRS),DE 
62fa			CMD_FTPGET_200: 
62fa 3a ff f2		                LD      A,(FLGDATA) 
62fd f6 10		                OR      FLG_ENABLESTOP 
62ff 32 ff f2		                LD      (FLGDATA),A 
6302 3e 01		                LD      A,1 
6304 32 23 f2		                LD      (CHKBLKNO),A 
6307			CMD_FTPGET_L010: 
6307 3e 15		                LD      A,NAK 
6309 cd 78 67		                CALL    OUT_SIO 
630c			CMD_FTPGET_L020: 
630c cd 11 67		                CALL    IN_SIO 
630f fe 04		                CP      EOT 
6311 ca 96 63		                JP      Z,CMD_FTPGET_030 
6314 fe 01		                CP      SOH 
6316 28 2e		                JR      Z,CMD_FTPGET_010 
6318 3a ff f2		                LD      A,(FLGDATA) 
631b e6 04		                AND     FLG_RCVTIMEOUT 
631d 20 e8		                JR      NZ,CMD_FTPGET_L010 
631f 3a ff f2		                LD      A,(FLGDATA) 
6322 e6 08		                AND     FLG_RCVCANCEL 
6324 c2 da 63		                JP      NZ,CMD_FTPGET_CANCEL 
6327 18 e3		                JR      CMD_FTPGET_L020 
6329			CMD_FTPGET_L030: 
6329 cd 11 67		                CALL    IN_SIO 
632c fe 04		                CP      EOT 
632e 28 66		                JR      Z,CMD_FTPGET_030 
6330 fe 01		                CP      SOH 
6332 28 12		                JR      Z,CMD_FTPGET_010 
6334 3a ff f2		                LD      A,(FLGDATA) 
6337 e6 04		                AND     FLG_RCVTIMEOUT 
6339 c2 da 63		                JP      NZ,CMD_FTPGET_CANCEL 
633c 3a ff f2		                LD      A,(FLGDATA) 
633f e6 08		                AND     FLG_RCVCANCEL 
6341 c2 da 63		                JP      NZ,CMD_FTPGET_CANCEL 
6344 18 e3		                JR      CMD_FTPGET_L030 
6346			CMD_FTPGET_010: 
6346 cd cc 65		                CALL    CLR_RCVBUF 
6349 77			                LD      (HL),A 
634a 23			                INC     HL 
634b 06 83		                LD      B,131 
634d			CMD_FTPGET_L040: 
634d cd 11 67		                CALL    IN_SIO 
6350 4f			                LD      C,A 
6351 3a ff f2		                LD      A,(FLGDATA) 
6354 e6 04		                AND     FLG_RCVTIMEOUT 
6356 c2 da 63		                JP      NZ,CMD_FTPGET_CANCEL 
6359 3a ff f2		                LD      A,(FLGDATA) 
635c e6 08		                AND     FLG_RCVCANCEL 
635e c2 da 63		                JP      NZ,CMD_FTPGET_CANCEL 
6361 79			                LD      A,C 
6362 77			                LD      (HL),A 
6363 23			                INC     HL 
6364 10 e7		                DJNZ    CMD_FTPGET_L040 
6366			; 
6366 cd 09 67		                CALL    DISABLE_RTS 
6369 cd 03 66		                CALL    CHKDATA 
636c 38 1e		                JR      C,CMD_FTPGET_020 
636e cd db 65		                CALL    CHK_MEMOVER 
6371 38 67		                JR      C,CMD_FTPGET_CANCEL 
6373 21 73 f2		                LD      HL,RCVBUF_DATA 
6376 01 80 00		                LD      BC,128 
6379 ed b0		                LDIR 
637b cd 30 66		                CALL    DISP_PROGRESS 
637e cd 01 67		                CALL    ENABLE_RTS 
6381			; 
6381 3e 06		                LD      A,ACK 
6383 cd 78 67		                CALL    OUT_SIO         
6386 21 23 f2		                LD      HL,CHKBLKNO 
6389 34			                INC     (HL) 
638a 18 9d		                JR      CMD_FTPGET_L030 
638c			CMD_FTPGET_020: 
638c cd 01 67		                CALL    ENABLE_RTS 
638f 3e 15		                LD      A,NAK 
6391 cd 78 67		                CALL    OUT_SIO         
6394 18 93		                JR      CMD_FTPGET_L030 
6396			CMD_FTPGET_030: 
6396 3e 06		                LD      A,ACK 
6398 cd 78 67		                CALL    OUT_SIO 
639b 3e 01		                LD      A,1 
639d cd b7 66		                CALL    TERM_SIO 
63a0 e1			                POP     HL 
63a1 3a ff f2		                LD      A,(FLGDATA) 
63a4 e6 02		                AND     FLG_LOADBAS 
63a6 20 15		                JR      NZ,CMD_FTPGET_FIXBAS 
63a8 e5			                PUSH    HL 
63a9 21 00 00		                LD      HL,0 
63ac ed 5b 2e f2	                LD      DE,(EXECADRS) 
63b0 cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
63b3			                                        ; HL<DE : 0  1 
63b3			                                        ; HL=DE : 1  0 
63b3			                                        ; HL>DE : 0  0 
63b3 e1			                POP     HL 
63b4 ca 3f 60		                JP      Z,CMD_EXIT 
63b7 2a 16 f2		                LD      HL,(SAVESP) 
63ba f9			                LD      SP,HL 
63bb eb			                EX      DE,HL 
63bc e9			                JP      (HL) 
63bd			CMD_FTPGET_FIXBAS: 
63bd e5			                PUSH    HL 
63be d5			                PUSH    DE 
63bf 2a 1c f2		                LD      HL,(LOADADRS) 
63c2 eb			                EX      DE,HL 
63c3 ed 52		                SBC     HL,DE 
63c5 e5			                PUSH    HL 
63c6 c1			                POP     BC 
63c7 e1			                POP     HL 
63c8 af			                XOR     A 
63c9 ed b9		                CPDR 
63cb 23			                INC     HL 
63cc 23			                INC     HL 
63cd 22 a0 ef		                LD      (VARAREA_TOP),  HL 
63d0 22 a2 ef		                LD      (ARRAYAREA_TOP),HL 
63d3 22 a4 ef		                LD      (FREEAREA_TOP), HL 
63d6 e1			                POP     HL 
63d7 c3 3f 60		                JP      CMD_EXIT 
63da			CMD_FTPGET_CANCEL: 
63da cd ca 5f		                CALL    ROM_DSPCRLF 
63dd af			                XOR     A 
63de 32 49 eb		                LD      (OUTPUT_DEVICE),A 
63e1 3c			                INC     A 
63e2 32 64 ea		                LD      (CURSOR_XPOS),A 
63e5 21 fd 67		                LD      HL,ERR_MSG_000 
63e8 cd ed 52		                CALL    ROM_MSGOUT 
63eb cd 43 0d		                CALL    ROM_BEEP 
63ee 3e 18		                LD      A,CAN 
63f0 cd 78 67		                CALL    OUT_SIO 
63f3 3e 01		                LD      A,1 
63f5 cd b7 66		                CALL    TERM_SIO 
63f8 e1			                POP     HL 
63f9 c3 3f 60		                JP      CMD_EXIT 
63fc			; 
63fc			; 
63fc			; 
63fc			CMD_SNTP: 
63fc e5			                PUSH    HL 
63fd cd 54 66		                CALL    INIT_SIO 
6400 21 76 68		                LD      HL,TBL_CMD_SNTP 
6403 11 70 f2		                LD      DE,SNDBUF_TOP 
6406 01 04 00		                LD      BC,4 
6409 ed b0		                LDIR 
640b 21 f2 68		                LD      HL,TBL_CRLF 
640e 01 02 00		                LD      BC,2 
6411 ed b0		                LDIR 
6413 06 06		                LD      B,6 
6415 cd 83 67		                CALL    SENDBUF_OUT 
6418 06 01		                LD      B,1 
641a cd 8e 67		                CALL    RECVBUF_IN 
641d 3a ff f2		                LD      A,(FLGDATA) 
6420 e6 04		                AND     FLG_RCVTIMEOUT 
6422 c2 c7 64		                JP      NZ,CMD_ERR1 
6425 11 76 68		                LD      DE,TBL_CMD_SNTP 
6428 06 04		                LD      B,4 
642a cd c5 67		                CALL    RECVBUF_CHK 
642d da cc 64		                JP      C,CMD_ERR2 
6430 11 7b ea		                LD      DE,BCD_TIME_YEAR 
6433 23			                INC     HL 
6434 23			                INC     HL 
6435			CMD_SNTP_L000: 
6435 7e			                LD      A,(HL) 
6436 e6 0f		                AND     0FH 
6438 cb 27		                SLA     A 
643a cb 27		                SLA     A 
643c cb 27		                SLA     A 
643e cb 27		                SLA     A 
6440 47			                LD      B,A 
6441 23			                INC     HL 
6442 7e			                LD      A,(HL) 
6443 e6 0f		                AND     0FH 
6445 b0			                OR      B 
6446 12			                LD      (DE),A 
6447 23			                INC     HL 
6448 1b			                DEC     DE 
6449 7e			                LD      A,(HL) 
644a fe 0d		                CP      CR 
644c 28 03		                JR      Z,CMD_SNTP_000 
644e 23			                INC     HL 
644f 18 e4		                JR      CMD_SNTP_L000 
6451			CMD_SNTP_000: 
6451 cd 63 16		                CALL    ROM_TIMEWRITE 
6454 c3 f2 64		                JP      CMD_END 
6457			; 
6457			; 
6457			; 
6457			CMD_VER: 
6457 e5			                PUSH    HL 
6458 cd 54 66		                CALL    INIT_SIO 
645b 21 80 68		                LD      HL,TBL_CMD_VER 
645e 11 70 f2		                LD      DE,SNDBUF_TOP 
6461 01 03 00		                LD      BC,3 
6464 ed b0		                LDIR 
6466 21 f2 68		                LD      HL,TBL_CRLF 
6469 01 02 00		                LD      BC,2 
646c ed b0		                LDIR 
646e 06 05		                LD      B,5 
6470 cd 83 67		                CALL    SENDBUF_OUT 
6473 06 01		                LD      B,1 
6475 cd 8e 67		                CALL    RECVBUF_IN 
6478 3a ff f2		                LD      A,(FLGDATA) 
647b e6 04		                AND     FLG_RCVTIMEOUT 
647d 20 48		                JR      NZ,CMD_ERR1 
647f 11 80 68		                LD      DE,TBL_CMD_VER 
6482 06 03		                LD      B,3 
6484 cd c5 67		                CALL    RECVBUF_CHK 
6487 38 43		                JR      C,CMD_ERR2 
6489 e5			                PUSH    HL 
648a 21 cb 68		                LD      HL,TBL_ESP32_VER 
648d 11 30 f2		                LD      DE,DISPBUF_TOP 
6490			CMD_VER_L010: 
6490 7e			                LD      A,(HL) 
6491 12			                LD      (DE),A 
6492 23			                INC     HL 
6493 13			                INC     DE 
6494 fe 00		                CP      0 
6496 20 f8		                JR      NZ,CMD_VER_L010 
6498 e1			                POP     HL 
6499 1b			                DEC     DE 
649a			CMD_VER_L020: 
649a 7e			                LD      A,(HL) 
649b fe 2c		                CP      ',' 
649d 28 06		                JR      Z,CMD_VER_010 
649f fe 0d		                CP      CR 
64a1 28 09		                JR      Z,CMD_VER_030 
64a3 18 02		                JR      CMD_VER_020 
64a5			CMD_VER_010: 
64a5 3e 2e		                LD      A,'.' 
64a7			CMD_VER_020: 
64a7 12			                LD      (DE),A 
64a8 23			                INC     HL 
64a9 13			                INC     DE 
64aa 18 ee		                JR      CMD_VER_L020 
64ac			CMD_VER_030: 
64ac cd db 67		                CALL    MSG_DISP 
64af 21 dc 68		                LD      HL,TBL_SIO_VER 
64b2 11 30 f2		                LD      DE,DISPBUF_TOP 
64b5			CMD_VER_L030: 
64b5 7e			                LD      A,(HL) 
64b6 12			                LD      (DE),A 
64b7 23			                INC     HL 
64b8 13			                INC     DE 
64b9 fe 00		                CP      0 
64bb 20 f8		                JR      NZ,CMD_VER_L030 
64bd cd db 67		                CALL    MSG_DISP 
64c0 18 30		                JR      CMD_END 
64c2			; 
64c2			; 
64c2			; 
64c2			CMD_ERR0: 
64c2 21 fd 67		                LD      HL,ERR_MSG_000 
64c5 18 12		                JR      CMD_ERR 
64c7			CMD_ERR1: 
64c7 21 0b 68		                LD      HL,ERR_MSG_001 
64ca 18 0d		                JR      CMD_ERR 
64cc			CMD_ERR2: 
64cc 21 1c 68		                LD      HL,ERR_MSG_002 
64cf 18 08		                JR      CMD_ERR 
64d1			CMD_ERR3: 
64d1 21 36 68		                LD      HL,ERR_MSG_003 
64d4 18 03		                JR      CMD_ERR 
64d6			CMD_ERR4: 
64d6 21 44 68		                LD      HL,ERR_MSG_004 
64d9			CMD_ERR: 
64d9 af			                XOR     A 
64da 32 49 eb		                LD      (OUTPUT_DEVICE),A 
64dd 3c			                INC     A 
64de 32 64 ea		                LD      (CURSOR_XPOS),A 
64e1 cd ed 52		                CALL    ROM_MSGOUT 
64e4 cd ca 5f		                CALL    ROM_DSPCRLF 
64e7 cd 43 0d		                CALL    ROM_BEEP 
64ea af			                XOR     A 
64eb cd b7 66		                CALL    TERM_SIO 
64ee e1			                POP     HL 
64ef c3 58 60		                JP      CMD_MYERR_EXIT 
64f2			CMD_END: 
64f2 af			                XOR     A 
64f3 cd b7 66		                CALL    TERM_SIO 
64f6 e1			                POP     HL 
64f7 c3 3f 60		                JP      CMD_EXIT 
64fa			; 
64fa			; 
64fa			; 
64fa			PARSER_CMDPARAM: 
64fa e5			                PUSH    HL 
64fb 21 00 00		                LD      HL,0 
64fe 22 1c f2		                LD      (LOADADRS),HL 
6501 22 2e f2		                LD      (EXECADRS),HL 
6504 af			                XOR     A 
6505 32 22 f2		                LD      (CMDNO),A 
6508 3a ff f2		                LD      A,(FLGDATA) 
650b e6 fd		                AND     ~FLG_LOADBAS 
650d e6 fb		                AND     ~FLG_RCVTIMEOUT 
650f 32 ff f2		                LD      (FLGDATA),A 
6512 e1			                POP     HL 
6513 11 59 68		                LD      DE,TBL_CMD 
6516			PARSER_CMDPARAM_000: 
6516 1a			                LD      A,(DE) 
6517 fe 00		                CP      0 
6519 ca ca 65		                JP      Z,SETCFRET 
651c e5			                PUSH    HL 
651d			PARSER_CMDPARAM_010: 
651d be			                CP      (HL) 
651e 20 09		                JR      NZ,PARSER_CMDPARAM_020 
6520 23			                INC     HL 
6521 13			                INC     DE 
6522 1a			                LD      A,(DE) 
6523 fe 00		                CP      0 
6525 28 11		                JR      Z,PARSER_CMDPARAM_040 
6527 18 f4		                JR      PARSER_CMDPARAM_010 
6529			PARSER_CMDPARAM_020: 
6529 e1			                POP     HL 
652a			PARSER_CMDPARAM_030: 
652a 13			                INC     DE 
652b 1a			                LD      A,(DE) 
652c fe 00		                CP      0 
652e 20 fa		                JR      NZ,PARSER_CMDPARAM_030 
6530 13			                INC     DE 
6531 13			                INC     DE 
6532 13			                INC     DE 
6533 13			                INC     DE 
6534 13			                INC     DE 
6535 13			                INC     DE 
6536 18 de		                JR      PARSER_CMDPARAM_000 
6538			PARSER_CMDPARAM_040: 
6538 2b			                DEC     HL 
6539 13			                INC     DE 
653a 1a			                LD      A,(DE) 
653b 32 22 f2		                LD      (CMDNO),A 
653e 13			                INC     DE 
653f e5			                PUSH    HL 
6540 1a			                LD      A,(DE) 
6541 6f			                LD      L,A 
6542 13			                INC     DE 
6543 1a			                LD      A,(DE) 
6544 67			                LD      H,A 
6545 e5			                PUSH    HL 
6546 dd e1		                POP     IX 
6548 13			                INC     DE 
6549 1a			                LD      A,(DE) 
654a 6f			                LD      L,A 
654b 13			                INC     DE 
654c 1a			                LD      A,(DE) 
654d 67			                LD      H,A 
654e e5			                PUSH    HL 
654f fd e1		                POP     IY 
6551 e1			                POP     HL 
6552 d1			                POP     DE 
6553 dd e9		                JP      (IX) 
6555			PARSER_CMD_BME: 
6555			PARSER_CMD_FTPLIST: 
6555			PARSER_CMD_SNTP: 
6555			PARSER_CMD_VER: 
6555 23			                INC     HL 
6556 7e			                LD      A,(HL) 
6557 fe 00		                CP      0 
6559 28 6c		                JR      Z,CLRCFRET 
655b fe 3a		                CP      ':' 
655d 28 68		                JR      Z,CLRCFRET 
655f 18 69		                JR      SETCFRET 
6561			PARSER_CMD_FTPGET: 
6561 cd b3 65		                CALL    PARSER_SKIP 
6564 fe 0f		                CP      0FH             ; ID CODE 0FH : 1 byte hex 
6566 28 17		                JR      Z,PARSER_CMD_FTPGET_010 
6568 fe 11		                CP      11H             ; ID CODE 11H -> 0, 12H -> 1, ... 19H -> 8, 1AH -> 9 
656a 28 0c		                JR      Z,PARSER_CMD_FTPGET_000 
656c fe 1a		                CP      1AH 
656e 38 08		                JR      C,PARSER_CMD_FTPGET_000 
6570 28 06		                JR      Z,PARSER_CMD_FTPGET_000 
6572 fe 1c		                CP      1CH             ; ID CODE 0CH : 2 byte hex 
6574 28 0f		                JR      Z,PARSER_CMD_FTPGET_020 
6576 18 52		                JR      SETCFRET 
6578			PARSER_CMD_FTPGET_000: 
6578 d6 11		                SUB     A,11H 
657a 5f			                LD      E,A 
657b af			                XOR     A 
657c 57			                LD      D,A 
657d 18 0a		                JR      PARSER_CMD_FTPGET_030 
657f			PARSER_CMD_FTPGET_010: 
657f 23			                INC     HL 
6580 5e			                LD      E,(HL) 
6581 af			                XOR     A 
6582 57			                LD      D,A 
6583 18 04		                JR      PARSER_CMD_FTPGET_030 
6585			PARSER_CMD_FTPGET_020: 
6585 23			                INC     HL 
6586 5e			                LD      E,(HL) 
6587 23			                INC     HL 
6588 56			                LD      D,(HL) 
6589			PARSER_CMD_FTPGET_030: 
6589 ed 53 1a f2	                LD      (SELLISTNO),DE 
658d 23			                INC     HL 
658e 7e			                LD      A,(HL) 
658f fe 00		                CP      0 
6591 28 34		                JR      Z,CLRCFRET 
6593 fe 3a		                CP      ':' 
6595 28 30		                JR      Z,CLRCFRET 
6597 2b			                DEC     HL 
6598 cd b3 65		                CALL    PARSER_SKIP 
659b fe 0c		                CP      0CH             ; ID CODE "&H" 
659d 20 2b		                JR      NZ,SETCFRET 
659f 23			                INC     HL 
65a0 5e			                LD      E,(HL) 
65a1 23			                INC     HL 
65a2 56			                LD      D,(HL) 
65a3 ed 53 2e f2	                LD      (EXECADRS),DE 
65a7 23			                INC     HL 
65a8 7e			                LD      A,(HL) 
65a9 fe 00		                CP      0 
65ab 28 1a		                JR      Z,CLRCFRET 
65ad fe 3a		                CP      ':' 
65af 28 16		                JR      Z,CLRCFRET 
65b1 18 17		                JR      SETCFRET 
65b3			PARSER_SKIP: 
65b3 23			                INC     HL 
65b4 7e			                LD      A,(HL) 
65b5 fe 20		                CP      ' ' 
65b7 28 fa		                JR      Z,PARSER_SKIP 
65b9 fe 2c		                CP      ',' 
65bb 28 03		                JR      Z,PARSER_SKIP_010 
65bd d1			                POP     DE 
65be 18 0a		                JR      SETCFRET 
65c0			PARSER_SKIP_010: 
65c0 23			                INC     HL 
65c1 7e			                LD      A,(HL) 
65c2 fe 20		                CP      ' ' 
65c4 28 fa		                JR      Z,PARSER_SKIP_010 
65c6 c9			                RET 
65c7			CLRCFRET: 
65c7 37			                SCF 
65c8 3f			                CCF 
65c9 c9			                RET 
65ca			SETCFRET: 
65ca 37			                SCF 
65cb c9			                RET 
65cc			; 
65cc			; 
65cc			; 
65cc			CLR_RCVBUF: 
65cc 21 70 f2		                LD      HL,RCVBUF_TOP 
65cf f5			                PUSH    AF 
65d0 e5			                PUSH    HL 
65d1 06 84		                LD      B,RCVBUF_BOTTOM - RCVBUF_TOP + 1 
65d3 af			                XOR     A 
65d4			CLR_RCVBUF_L010: 
65d4 77			                LD      (HL),A 
65d5 23			                INC     HL 
65d6 10 fc		                DJNZ    CLR_RCVBUF_L010 
65d8 e1			                POP     HL 
65d9 f1			                POP     AF 
65da c9			                RET 
65db			; 
65db			; 
65db			; 
65db			CHK_MEMOVER: 
65db 01 80 00		                LD      BC,128 
65de d5			                PUSH    DE 
65df 21 00 60		                LD      HL,_PROG_TOP 
65e2 11 00 80		                LD      DE,PC8001RAM_TOP 
65e5 cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
65e8			                                        ; HL<DE : 0  1 
65e8			                                        ; HL=DE : 1  0 
65e8			                                        ; HL>DE : 0  0 
65e8 d1			                POP     DE 
65e9 38 0c		                JR      C,CHK_MEMOVER_010 
65eb d5			                PUSH    DE 
65ec eb			                EX      DE,HL 
65ed 09			                ADD     HL,BC 
65ee eb			                EX      DE,HL 
65ef 21 00 60		                LD      HL,_PROG_TOP 
65f2 cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
65f5			                                        ; HL<DE : 0  1 
65f5			                                        ; HL=DE : 1  0 
65f5			                                        ; HL>DE : 0  0 
65f5 d1			                POP     DE 
65f6 d8			                RET     C 
65f7			CHK_MEMOVER_010: 
65f7 d5			                PUSH    DE 
65f8 eb			                EX      DE,HL 
65f9 09			                ADD     HL,BC 
65fa eb			                EX      DE,HL 
65fb 21 00 ea		                LD      HL,ROMBAS_WORKTOP 
65fe cd d3 5e		                CALL    ROM_CMPHLDE     ;         Z CY 
6601			                                        ; HL<DE : 0  1 
6601			                                        ; HL=DE : 1  0 
6601			                                        ; HL>DE : 0  0 
6601 d1			                POP     DE 
6602 c9			                RET 
6603			; 
6603			; 
6603			; 
6603			CHKDATA: 
6603 21 70 f2		                LD      HL,RCVBUF_TOP 
6606 7e			                LD      A,(HL) 
6607 fe 01		                CP      SOH 
6609 20 bf		                JR      NZ,SETCFRET 
660b 4f			                LD      C,A 
660c 23			                INC     HL 
660d 3a 23 f2		                LD      A,(CHKBLKNO) 
6610 be			                CP      (HL) 
6611 20 b7		                JR      NZ,SETCFRET 
6613 81			                ADD     A,C 
6614 4f			                LD      C,A 
6615 23			                INC     HL 
6616 3a 23 f2		                LD      A,(CHKBLKNO) 
6619 2f			                CPL 
661a be			                CP      (HL) 
661b 20 ad		                JR      NZ,SETCFRET 
661d 81			                ADD     A,C 
661e 4f			                LD      C,A 
661f 23			                INC     HL 
6620 06 80		                LD      B,128 
6622			CHKDATA_L010: 
6622 7e			                LD      A,(HL) 
6623 81			                ADD     A,C 
6624 4f			                LD      C,A 
6625 23			                INC     HL 
6626 10 fa		                DJNZ    CHKDATA_L010 
6628 79			                LD      A,C 
6629 be			                CP      (HL) 
662a c2 ca 65		                JP      NZ,SETCFRET 
662d c3 c7 65		                JP      CLRCFRET 
6630			; 
6630			; 
6630			; 
6630			DISP_PROGRESS: 
6630 d5			                PUSH    DE 
6631 e5			                PUSH    HL 
6632 3e 01		                LD      A,1 
6634 32 64 ea		                LD      (CURSOR_XPOS),A 
6637 3e 5b		                LD      A,'[' 
6639 cd 57 02		                CALL    ROM_DSPCHR 
663c 2a 1c f2		                LD      HL,(LOADADRS) 
663f cd c0 5e		                CALL    ROM_DSPHEX4 
6642 3e 2d		                LD      A,'-' 
6644 cd 57 02		                CALL    ROM_DSPCHR 
6647 eb			                EX      DE,HL 
6648 2b			                DEC     HL 
6649 cd c0 5e		                CALL    ROM_DSPHEX4 
664c 3e 5d		                LD      A,']' 
664e cd 57 02		                CALL    ROM_DSPCHR 
6651 e1			                POP     HL 
6652 d1			                POP     DE 
6653 c9			                RET 
6654			; 
6654			; 
6654			; 
6654			INIT_SIO: 
6654 cd d9 66		                CALL    ENABLE_SIO 
6657 af			                XOR     A               ; DUMMY OUT 
6658 d3 21		                OUT     (USARTCW),A 
665a d3 21		                OUT     (USARTCW),A 
665c d3 21		                OUT     (USARTCW),A 
665e 3e 40		                LD      A,01000000B     ; SOFT RESET 
6660 d3 21		                OUT     (USARTCW),A 
6662 3e 4e		                LD      A,01001110B     ; MODE SETUP                    : 8N11 
6664			                                        ; BAUD RATE FACTOR              : 16X 
6664			                                        ; CHARACTER LENGTH              : 8BITS 
6664			                                        ; PARITY ENABLE                 : DISABLE 
6664			                                        ; EVEN PARITY GENARATION/CHECK  : ODD 
6664			                                        ; NUMBER OF STOP BITS           : 1 BIT 
6664 d3 21		                OUT     (USARTCW),A 
6666 32 20 f2		                LD      (MODEWORD),A 
6669 3e 05		                LD      A,00000101B     ; COMMAND SETUP  TRANSMIT ENABLE 
666b			                                        ;                DATA TERMINAL READY : FALSE 
666b			                                        ;                RECEIVE ENABLE 
666b			                                        ;                ERROR RESET         : FALSE 
666b			                                        ;                REQUEST TO SEND     : FALSE 
666b d3 21		                OUT     (USARTCW),A 
666d 32 21 f2		                LD      (CTLWORD),A 
6670 cd f1 66		                CALL    ENABLE_DTR 
6673 cd 01 67		                CALL    ENABLE_RTS 
6676			INIT_SIO_000: 
6676 db 21		                IN      A,(USARTCW)     ; ESP32-WROOM-32 -> 8251 power-on receive dust removal support 
6678 57			                LD      D,A 
6679 e6 38		                AND     00111000B 
667b 20 31		                JR      NZ,INIT_SIO_010 
667d 7a			                LD      A,D 
667e e6 02		                AND     00000010B 
6680 28 04		                JR      Z,INIT_SIO_020 
6682 db 20		                IN      A,(USARTDW) 
6684 18 f0		                JR      INIT_SIO_000 
6686			INIT_SIO_020: 
6686 3a ff f2		                LD      A,(FLGDATA) 
6689 e6 01		                AND     FLG_FIRSTSEND 
668b 20 18		                JR      NZ,INIT_SIO_030 
668d 11 70 f2		                LD      DE,SNDBUF_TOP   ; 8251 -> ESP32-WROOM-32 power-on send dust removal support 
6690 21 f2 68		                LD      HL,TBL_CRLF 
6693 01 02 00		                LD      BC,2 
6696 ed b0		                LDIR 
6698 06 02		                LD      B,2 
669a cd 83 67		                CALL    SENDBUF_OUT 
669d 3a ff f2		                LD      A,(FLGDATA) 
66a0 f6 01		                OR      FLG_FIRSTSEND 
66a2 32 ff f2		                LD      (FLGDATA),A 
66a5			INIT_SIO_030: 
66a5 3a ff f2		                LD      A,(FLGDATA) 
66a8 e6 ef		                AND     ~FLG_ENABLESTOP 
66aa 32 ff f2		                LD      (FLGDATA),A 
66ad c9			                RET 
66ae			INIT_SIO_010: 
66ae 3a 21 f2		                LD      A,(CTLWORD) 
66b1 f6 10		                OR      00010000B 
66b3 d3 21		                OUT     (USARTCW),A 
66b5 18 bf		                JR      INIT_SIO_000 
66b7			; 
66b7			; A :  0 no wait term sio 
66b7			;   : !0 1sec wait term sio 
66b7			; 
66b7			TERM_SIO: 
66b7 d5			                PUSH    DE 
66b8 fe 00		                CP      0 
66ba 28 12		                JR      Z,TERM_SIO_020 
66bc cd 02 16		                CALL    ROM_TIMEREAD 
66bf 3a 76 ea		                LD      A,(BCD_TIME_SEC) 
66c2 57			                LD      D,A 
66c3			TERM_SIO_010: 
66c3 d5			                PUSH    DE 
66c4 cd 02 16		                CALL    ROM_TIMEREAD 
66c7 d1			                POP     DE 
66c8 3a 76 ea		                LD      A,(BCD_TIME_SEC) 
66cb ba			                CP      D 
66cc 28 f5		                JR      Z,TERM_SIO_010 
66ce			TERM_SIO_020: 
66ce cd 09 67		                CALL    DISABLE_RTS 
66d1 cd f9 66		                CALL    DISABLE_DTR 
66d4 cd e6 66		                CALL    DISABLE_SIO 
66d7 d1			                POP     DE 
66d8 c9			                RET 
66d9			; 
66d9			; 
66d9			; 
66d9			ENABLE_SIO: 
66d9 3a 66 ea		                LD      A,(CTL1_OUTDATA) 
66dc e6 cf		                AND     11001111B       ; BS2,BS1 CLR 
66de f6 20		                OR      00100000B       ; BS2 ON 
66e0 d3 30		                OUT     (CONTROL1),A 
66e2 32 66 ea		                LD      (CTL1_OUTDATA),A 
66e5 c9			                RET 
66e6			; 
66e6			; 
66e6			; 
66e6			DISABLE_SIO: 
66e6 3a 66 ea		                LD      A,(CTL1_OUTDATA) 
66e9 e6 cf		                AND     11001111B       ; BS2,BS1 CLR 
66eb d3 30		                OUT     (CONTROL1),A 
66ed 32 66 ea		                LD      (CTL1_OUTDATA),A 
66f0 c9			                RET 
66f1			; 
66f1			; 
66f1			; 
66f1			ENABLE_DTR: 
66f1 3a 21 f2		                LD      A,(CTLWORD) 
66f4 f6 02		                OR      00000010B       ; DATA TERMINAL READY : TRUE 
66f6 d3 21		                OUT     (USARTCW),A 
66f8 c9			                RET 
66f9			; 
66f9			; 
66f9			; 
66f9			DISABLE_DTR: 
66f9 3a 21 f2		                LD      A,(CTLWORD) 
66fc e6 fd		                AND     11111101B       ; DATA TERMINAL READY : FALSE 
66fe d3 21		                OUT     (USARTCW),A 
6700 c9			                RET 
6701			; 
6701			; 
6701			; 
6701			ENABLE_RTS: 
6701 3a 21 f2		                LD      A,(CTLWORD) 
6704 f6 20		                OR      00100000B       ; REQUEST TO SEND : TRUE 
6706 d3 21		                OUT     (USARTCW),A 
6708 c9			                RET 
6709			; 
6709			; 
6709			; 
6709			DISABLE_RTS: 
6709 3a 21 f2		                LD      A,(CTLWORD) 
670c e6 df		                AND     11011111B       ; REQUEST TO SEND : FALSE 
670e d3 21		                OUT     (USARTCW),A 
6710 c9			                RET 
6711			; 
6711			; 
6711			; 
6711			IN_SIO: 
6711 3a ff f2		                LD      A,(FLGDATA) 
6714 e6 fb		                AND     ~FLG_RCVTIMEOUT 
6716 e6 f7		                AND     ~FLG_RCVCANCEL 
6718 32 ff f2		                LD      (FLGDATA),A 
671b c5			                PUSH    BC 
671c d5			                PUSH    DE 
671d e5			                PUSH    HL 
671e 21 03 00		                LD      HL,3            ; 5000msec Timer 
6721 01 00 0a		                LD      BC,0A00H 
6724			IN_SIO_010: 
6724 3a ff f2		                LD      A,(FLGDATA) 
6727 e6 10		                AND     FLG_ENABLESTOP 
6729 28 06		                JR      Z,IN_SIO_015 
672b db 09		                IN      A,(KEYBRD9) 
672d e6 01		                AND     00000001B 
672f 28 2d		                JR      Z,IN_SIO_070 
6731			IN_SIO_015: 
6731 db 21		                IN      A,(USARTCW) 
6733 57			                LD      D,A 
6734 e6 38		                AND     00111000B 
6736 20 37		                JR      NZ,IN_SIO_050 
6738 7a			                LD      A,D 
6739 e6 02		                AND     00000010B 
673b 20 2c		                JR      NZ,IN_SIO_030 
673d			IN_SIO_020: 
673d 0b			                DEC     BC 
673e 79			                LD      A,C 
673f fe 00		                CP      0 
6741 20 e1		                JR      NZ,IN_SIO_010 
6743 78			                LD      A,B 
6744 fe 00		                CP      0 
6746 20 dc		                JR      NZ,IN_SIO_010 
6748 2b			                DEC     HL 
6749 7d			                LD      A,L 
674a fe 00		                CP      0 
674c 20 d6		                JR      NZ,IN_SIO_010 
674e 7c			                LD      A,H 
674f fe 00		                CP      0 
6751 20 d1		                JR      NZ,IN_SIO_010 
6753			IN_SIO_060: 
6753 3a ff f2		                LD      A,(FLGDATA) 
6756 f6 04		                OR      FLG_RCVTIMEOUT 
6758 32 ff f2		                LD      (FLGDATA),A 
675b af			                XOR     A 
675c 18 0d		                JR      IN_SIO_040 
675e			IN_SIO_070: 
675e 3a ff f2		                LD      A,(FLGDATA) 
6761 f6 08		                OR      FLG_RCVCANCEL 
6763 32 ff f2		                LD      (FLGDATA),A 
6766 af			                XOR     A 
6767 18 02		                JR      IN_SIO_040 
6769			IN_SIO_030: 
6769 db 20		                IN      A,(USARTDW) 
676b			IN_SIO_040: 
676b e1			                POP     HL 
676c d1			                POP     DE 
676d c1			                POP     BC 
676e c9			                RET 
676f			IN_SIO_050: 
676f 3a 21 f2		                LD      A,(CTLWORD) 
6772 f6 10		                OR      00010000B 
6774 d3 21		                OUT     (USARTCW),A 
6776 18 c5		                JR      IN_SIO_020 
6778			; 
6778			; 
6778			; 
6778			OUT_SIO: 
6778 f5			                PUSH    AF 
6779			OUT_SIO1: 
6779 db 21		                IN      A,(USARTCW) 
677b e6 01		                AND     00000001B 
677d 28 fa		                JR      Z,OUT_SIO1 
677f f1			                POP     AF 
6780 d3 20		                OUT     (USARTDW),A 
6782 c9			                RET 
6783			; 
6783			; 
6783			; 
6783			SENDBUF_OUT: 
6783 21 70 f2		                LD      HL,SNDBUF_TOP 
6786			SENDBUF_OUT_000: 
6786 7e			                LD      A,(HL) 
6787 cd 78 67		                CALL    OUT_SIO 
678a 23			                INC     HL 
678b 10 f9		                DJNZ    SENDBUF_OUT_000 
678d c9			                RET 
678e			; 
678e			; 
678e			; 
678e			RECVBUF_IN: 
678e 78			                LD      A,B 
678f 32 24 f2		                LD      (LFRECVCOUNT),A 
6792 21 70 f2		                LD      HL,RCVBUF_TOP 
6795			RECVBUF_IN_000: 
6795 cd 11 67		                CALL    IN_SIO 
6798 c5			                PUSH    BC 
6799 47			                LD      B,A 
679a 3a ff f2		                LD      A,(FLGDATA) 
679d e6 04		                AND     FLG_RCVTIMEOUT 
679f 78			                LD      A,B 
67a0 c1			                POP     BC 
67a1 20 08		                JR      NZ,RECVBUF_IN_020                 
67a3 77			                LD      (HL),A 
67a4 fe 0a		                CP      LF 
67a6 28 15		                JR      Z,RECVBUF_IN_030 
67a8			RECVBUF_IN_010: 
67a8 23			                INC     HL 
67a9 18 ea		                JR      RECVBUF_IN_000 
67ab			RECVBUF_IN_020: 
67ab 3a 24 f2		                LD      A,(LFRECVCOUNT) 
67ae 4f			                LD      C,A 
67af 78			                LD      A,B 
67b0 b9			                CP      C 
67b1 28 11		                JR      Z,RECVBUF_IN_040 
67b3 3a ff f2		                LD      A,(FLGDATA) 
67b6 e6 fb		                AND     ~FLG_RCVTIMEOUT 
67b8 32 ff f2		                LD      (FLGDATA),A 
67bb 18 07		                JR      RECVBUF_IN_040 
67bd			RECVBUF_IN_030: 
67bd 05			                DEC     B 
67be af			                XOR     A 
67bf b8			                CP      B 
67c0 28 02		                JR      Z,RECVBUF_IN_040 
67c2 18 e4		                JR      RECVBUF_IN_010 
67c4			RECVBUF_IN_040: 
67c4 c9			                RET 
67c5			; 
67c5			; 
67c5			; 
67c5			RECVBUF_CHK: 
67c5 21 70 f2		                LD      HL,RCVBUF_TOP 
67c8			RECVBUF_CHK1: 
67c8 1a			                LD      A,(DE) 
67c9 be			                CP      (HL) 
67ca c2 ca 65		                JP      NZ,SETCFRET 
67cd 23			                INC     HL 
67ce 13			                INC     DE 
67cf 10 f7		                DJNZ    RECVBUF_CHK1 
67d1 3e 3a		                LD      A,':' 
67d3 be			                CP      (HL) 
67d4 c2 ca 65		                JP      NZ,SETCFRET 
67d7 23			                INC     HL 
67d8 c3 c7 65		                JP      CLRCFRET 
67db			; 
67db			; 
67db			; 
67db			MSG_DISP: 
67db af			                XOR     A 
67dc 12			                LD      (DE),A 
67dd 32 49 eb		                LD      (OUTPUT_DEVICE),A 
67e0 3c			                INC     A 
67e1 32 64 ea		                LD      (CURSOR_XPOS),A 
67e4 21 30 f2		                LD      HL,DISPBUF_TOP 
67e7 cd ed 52		                CALL    ROM_MSGOUT 
67ea cd ca 5f		                CALL    ROM_DSPCRLF 
67ed c9			                RET 
67ee			; 
67ee			; D = 0 
67ee			; HL = E * A 
67ee			; 
67ee			MUL_88_2_16: 
67ee 16 00		                LD      D,0 
67f0 21 00 00		                LD      HL,0 
67f3 06 08		                LD      B,8 
67f5			MUL_L000: 
67f5 29			                ADD     HL,HL 
67f6 87			                ADD     A,A 
67f7 30 01		                JR      NC,MUL_000 
67f9 19			                ADD     HL,DE 
67fa			MUL_000: 
67fa 10 f9		                DJNZ    MUL_L000 
67fc c9			                RET 
67fd			; 
67fd			; 
67fd			; 
67fd .. 00		ERR_MSG_000:    DB      "abort receive", 0 
680b .. 00		ERR_MSG_001:    DB      "receive time out", 0 
681c .. 00		ERR_MSG_002:    DB      "received command mismatch", 0 
6836 .. 00		ERR_MSG_003:    DB      "ftpget failed", 0 
6844 .. 00		ERR_MSG_004:    DB      "load address not set", 0 
6859			TBL_CMD: 
6859 .. 00 01		TBL_CMD_BME:    DB      "BME",       0, 1 
685e 55 65		                DW      PARSER_CMD_BME 
6860 60 60		                DW      CMD_BME 
6862 .. 93 00 02	TBL_CMD_FTPLIST:DB      "FTP", 93H,  0, 2       ; reserve code 93H : "LIST" 
6868 55 65		                DW      PARSER_CMD_FTPLIST 
686a 04 61		                DW      CMD_FTPLIST 
686c .. c7 00 03	TBL_CMD_FTPGET: DB      "FTP", 0C7H, 0, 3       ; reserve code C7H : "GET" 
6872 61 65		                DW      PARSER_CMD_FTPGET 
6874 54 62		                DW      CMD_FTPGET 
6876 .. 00 04		TBL_CMD_SNTP:   DB      "SNTP",      0, 4 
687c 55 65		                DW      PARSER_CMD_SNTP 
687e fc 63		                DW      CMD_SNTP 
6880 .. 00 06		TBL_CMD_VER:    DB      "VER",       0, 6 
6885 55 65		                DW      PARSER_CMD_VER 
6887 57 64		                DW      CMD_VER 
6889 00			                DB      0 
688a			TBL_CMD_FTPLIST2: 
688a ..			                DB      "FTPLIST" 
6891 ..			TBL_CMD_FTPGET2:DB      "FTPGET:" 
6898 ..			TBL_CMD_LIST:   DB      "LIST:" 
689d .. 00		TBL_COUNT_MSG0: DB      "file count: ", 0 
68aa .. 00		TBL_TEMP_MSG0:  DB      "temp : ", 0 
68b2 df 43 00		TBL_TEMP_MSG1:  DB      0DFH, "C", 0 
68b5 .. 00		TBL_HUMI_MSG0:  DB      "humi : ", 0 
68bd .. 00		TBL_HUMI_MSG1:  DB      "%", 0 
68bf .. 00		TBL_PRESS_MSG0: DB      "press: ", 0 
68c7 .. 00		TBL_PRESS_MSG1: DB      "hPa", 0 
68cb .. 00		TBL_ESP32_VER:  DB      "esp32 firmware v", 0 
68dc .. 31 2e 30 2e 30 00	TBL_SIO_VER:    DB      "sio   firmware v", 30H + VER_MAJOR, ".", 30H + VER_MINOR, ".", 30H + VER_REVISION, 0 
68f2 0d 0a		TBL_CRLF:       DB      CR, LF 
68f4			                ;END 
68f4			 
# End of file esp32pc8001sio.asm
68f4			; 
68f4			; 
68f4			; 
68f4			_USER_ROM_END: 
68f4 0xff...		                DS      8192 - 4 - ( _USER_ROM_END - _USER_ROM_START ), 0FFH 
7ffc			; 
7ffc c3 10 60		                JP      _MON_U_ENTRY 
7fff ..			                DB      "U" 
8000			                END 
			

# End of file esp32pc8001sio_8krom.asm
8000
